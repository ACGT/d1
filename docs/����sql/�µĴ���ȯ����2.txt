select * into d1marketing..tkt20101012 from (
select distinct top 10001  right('00000000'+convert(varchar,convert(int,rand(tktcrd_id+convert(int,rand()*100000))*1000000000)),8) cardno from  tktcrd )a

drop table d1marketing..tkt20101012


select 'mafxjf15'+cardno+right(convert(varchar,65+cast(substring(cardno,1,1) as int)+cast(substring(cardno,2,1) as int)
             +cast(substring(cardno,3,1) as int)+cast(substring(cardno,4,1) as int)
             +cast(substring(cardno,5,1) as int)+cast(substring(cardno,6,1) as int)
             +cast(substring(cardno,7,1) as int)+cast(substring(cardno,8,1) as int)),2) from   d1marketing..tkt20101012


insert into tktgroup (tktgroup_title,tktgroup_flag,tktgroup_checkcode,tktgroup_value,
tktgroup_discount,tktgroup_type,tktgroup_createdate,tktgroup_validates,tktgroup_validatee,
tktgroup_memo,tktgroup_gdsvalue,tktgroup_sprckcodestr,tktgroup_rackcode,tktgroup_ifvip,tktgroup_num)
values('mafxjf15',0,65,100,0.15,'004003',getdate(),'2011-5-10','2011-7-31 23:59:59','飞信积分优惠券，不参加网盟返利',0,'','000',0,10001)



select top 10 * from odrtktnfl
insert into odrtktnfl(odrtktnfl_cardnot,odrtktnfl_memo)
values('mafxjf15','飞信积分优惠券，不参加网盟返利----项海丽')
